{"version":3,"sources":["../../../../src/server/routes/manager.js"],"names":["router","Router","get","req","res","next","status","json","response","post","clubId","body","saleObj","sale","console","log","points","id","name","img","description","price","addSale","then","catch","err"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAGA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAEAD,OAAOE,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClCD,MAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,UAAW,KAAZ,EAArB;AACD,CAFD;;AAIAR,OAAOS,IAAP,CAAY,UAAZ,EAAwB,UAACN,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1C,MAAMK,SAASP,IAAIQ,IAAJ,CAASD,MAAxB;AACA,MAAME,UAAUT,IAAIQ,IAAJ,CAASE,IAAzB;AACAC,UAAQC,GAAR,CAAYH,OAAZ;AACAE,UAAQC,GAAR,CAAYH,QAAQI,MAApB;AACA,MAAMH,OAAO,wBAAS;AACpB,UAAMD,QAAQK,EADM;AAEpB,YAAQL,QAAQM,IAFI;AAGpB,WAAON,QAAQO,GAHK;AAIpB,mBAAeP,QAAQQ,WAJH;AAKpB,cAAUR,QAAQI,MALE;AAMpB,aAASJ,QAAQS;AANG,GAAT,CAAb;;AASA,oBAAkBC,OAAlB,CAA0BZ,MAA1B,EAAkCG,IAAlC,EACCU,IADD,CACM,uBAAe;AACnBT,YAAQC,GAAR,CAAY,MAAZ;AACAX,QAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,IAArB;AACD,GAJD,EAKCiB,KALD,CAKO,eAAO;AACZV,YAAQC,GAAR,CAAY,sBAAZ,EAAoCU,GAApC;AACArB,QAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,KAArB;AACD,GARD;AASD,CAvBD;;kBAyBeP,M","file":"manager.js","sourcesContent":["import express from 'express';\r\nimport Manager from '../.././models/manager-model';\r\nimport ManagerRepository from '../.././database/repositories/manager.repository';\r\nimport Sale from '../.././models/sale-model';\r\n\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get('/', (req, res, next) => {\r\n  res.status(200).json({response : \"OK!\"});\r\n});\r\n\r\nrouter.post('/addSale', (req, res, next) => {\r\n  const clubId = req.body.clubId;\r\n  const saleObj = req.body.sale;\r\n  console.log(saleObj);\r\n  console.log(saleObj.points);\r\n  const sale = new Sale({\r\n    \"id\": saleObj.id,\r\n    \"name\": saleObj.name,\r\n    \"img\": saleObj.img,\r\n    \"description\": saleObj.description,\r\n    \"points\": saleObj.points,\r\n    \"price\": saleObj.price\r\n  })\r\n  \r\n  ManagerRepository.addSale(clubId, sale)\r\n  .then(saleUpdated => {\r\n    console.log(\"blue\");\r\n    res.status(200).json(true);\r\n  })\r\n  .catch(err => {\r\n    console.log('User was not updated', err);\r\n    res.status(500).json(false);\r\n  });\r\n})\r\n\r\nexport default router;\r\n"]}