{"version":3,"sources":["../../../../src/server/routes/users.js"],"names":["router","Router","get","req","res","next","id","params","findCustomerById","then","customer","status","json","console","log","catch","err","end","post","user","body","updateCustomer"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAEA;AACAD,OAAOE,GAAP,CAAW,MAAX,EAAmB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;;AAErC,MAAMC,KAAKH,IAAII,MAAJ,CAAWD,EAAtB;AACA,qBAAmBE,gBAAnB,CAAoCF,EAApC,EACCG,IADD,CACM,oBAAY;AAChB,QAAGC,QAAH,EAAa;AACXN,UAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,QAArB;AACD,KAFD,MAGK;AACHG,cAAQC,GAAR,CAAY,gBAAZ;AACAV,UAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACF,UAAUA,QAAX,EAArB;AACD;AACF,GATD,EAUCK,KAVD,CAUO,eAAO;AACZF,YAAQC,GAAR,CAAYE,GAAZ;AACAZ,QAAIO,MAAJ,CAAW,GAAX,EAAgBM,GAAhB;AACD,GAbD;AAeD,CAlBD;;AAoBAjB,OAAOkB,IAAP,CAAY,SAAZ,EAAuB,UAACf,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzC,MAAMc,OAAOhB,IAAIiB,IAAJ,CAASD,IAAtB;;AAEA,qBAAmBE,cAAnB,CAAkCF,IAAlC,EACCV,IADD,CACM,uBAAe;AACnBL,QAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,IAArB;AACD,GAHD,EAICG,KAJD,CAIO,eAAO;AACZF,YAAQC,GAAR,CAAY,sBAAZ,EAAoCE,GAApC;AACAZ,QAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,KAArB;AACD,GAPD;AAUD,CAbD;;kBAeeZ,M","file":"users.js","sourcesContent":["import express from 'express';\nimport Customer from '../.././models/user-model';\nimport CustomerRepository from '../.././database/repositories/customer.repository';\n\nconst router = express.Router();\n\n/* GET users listing. */\nrouter.get('/:id', (req, res, next) => {\n  \n  const id = req.params.id;\n  CustomerRepository.findCustomerById(id)\n  .then(customer => {\n    if(customer) {\n      res.status(200).json(customer);\n    }\n    else { \n      console.log(\"user not found\");\n      res.status(200).json({customer: customer});\n    }\n  })\n  .catch(err => { \n    console.log(err); \n    res.status(500).end();\n  });\n\n});\n\nrouter.post('/update', (req, res, next) => {\n  const user = req.body.user;\n\n  CustomerRepository.updateCustomer(user)\n  .then(userUpdated => {\n    res.status(200).json(true);\n  })\n  .catch(err => {\n    console.log('User was not updated', err);\n    res.status(500).json(false);\n  });\n\n\n})\n\nexport default router;\n"]}